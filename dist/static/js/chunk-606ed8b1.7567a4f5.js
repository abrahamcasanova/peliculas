(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-606ed8b1"],{"0d51":function(e,t,a){"use strict";a("dd28")},"1fcf":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return u}));var r=a("b775");function n(){return Object(r["a"])({url:"api/quotes",method:"get"})}function o(e){return Object(r["a"])({url:"api/quotes",method:"post",data:e})}function i(e){return Object(r["a"])({url:"api/quotes/"+e.id,method:"put",data:e})}function u(e){return Object(r["a"])({url:"api/quotes/"+e,method:"delete"})}},"299b":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{value:e.dialogChangeStatus,persistent:"","max-width":"65%"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Cambiar Estatus")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",attrs:{value:e.valid,"lazy-validation":""}},[a("v-row",[a("v-col",{attrs:{cols:"4",md:"4"}},[a("v-autocomplete",{attrs:{value:e.quote.bitacora.user_id,required:"",items:e.users,chips:"","item-text":"name","item-value":"id","small-chips":"",clearable:"",label:"Usuario"},on:{input:function(t){return e.setValue("user_id",t)}}})],1),a("v-col",{attrs:{cols:"4",md:"4"}},[a("v-combobox",{attrs:{value:e.quote.bitacora.status,color:"blue",clearable:"","persistent-hint":"","small-chips":"",required:"",items:e.status,"item-text":"name","item-value":"name","return-object":!1,label:"Estatus"},on:{input:function(t){return e.setValue("status",t)}}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-menu",{ref:"date_contact",attrs:{value:e.date_contact,"close-on-content-click":!1,"return-value":e.quote.bitacora.date_contact,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.quote.bitacora,"date_contact",t)},"update:return-value":function(t){return e.$set(e.quote.bitacora,"date_contact",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{value:e.quote.bitacora.date_contact,label:"Fecha de contacto",required:"","prepend-icon":"mdi-calendar"},on:{input:function(t){return e.setValue("date_contact",t)}}},"v-text-field",n,!1),r))]}}])},[a("v-date-picker",{attrs:{value:e.quote.bitacora.date_contact,locale:"es-mx",required:"",rules:e.requiredRule},on:{change:function(t){return e.$refs.date_contact.save(e.quote.bitacora.date_contact)},input:function(t){return e.setValue("date_contact",t)}}})],1)],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-textarea",{attrs:{value:e.quote.bitacora.comments,filled:"","auto-grow":"",label:"Comentarios",rows:"3","row-height":"30",shaped:""},on:{input:function(t){return e.setValue("comments",t)}}})],1)],1)],1)],1),a("small",{staticClass:"red--text"},[e._v("*Campos obligatorios")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:e.closeDialog}},[e._v(" Cerrar ")]),a("v-btn",{attrs:{text:""},on:{click:e.update}},[e._v(" Actualizar ")])],1)],1)],1)],1)},n=[],o=a("1da1"),i=(a("96cf"),a("c24f")),u={name:"DialogStatusQuote",filters:{statusFilter:function(e){var t={published:"success",draft:"info",deleted:"danger"};return t[e]}},props:{quote:{type:Object,default:null},isNewQuote:{type:Boolean},dialog:{type:Boolean,default:!1},dialogChangeStatus:{type:Boolean}},data:function(){return{valid:!1,users:{},quoteClone:this.quote,status:["Contacto","Cotización","Reservado","Cancelado"],date_contact:!1,requiredRule:[function(e){return!!e||"Este campo es requerido"}]}},computed:{},created:function(){this.getUsers()},methods:{setValue:function(e,t){this.quoteClone.id=this.quote.id,this.quoteClone.bitacora[e]=t,this.$emit("update:quote",this.quoteClone)},update:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.form.validate()&&(e.$emit("update:quote",e.quoteClone),e.$emit("update",e.quote));case 1:case"end":return t.stop()}}),t)})))()},changeStatus:function(){this.$emit("update:dialogChangeStatus",!1)},closeDialog:function(){this.$emit("close",!1)},getUsers:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["c"])();case 2:e.users=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},s=u,c=a("2877"),l=Object(c["a"])(s,r,n,!1,null,null,null);t["a"]=l.exports},4384:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{value:e.dialog,persistent:"",scrollable:"","max-width":"60%"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Editar")])]),a("v-divider"),a("v-card-text",[a("v-container",[a("v-form",{ref:"form2",attrs:{value:e.valid2,"lazy-validation":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-autocomplete",{attrs:{value:e.quote.customer_id,required:"",items:e.customers,chips:"","item-text":"full_name","item-value":"id","small-chips":"",clearable:"",label:"Cliente"},on:{input:function(t){return e.setValue("customer_id",t)}}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{value:e.quote.girlfriend_name,label:"Nombre de novia",rules:e.nameRules,required:""},on:{input:function(t){return e.setValue("girlfriend_name",t)}}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{value:e.quote.boyfriend_name,label:"Nombre de novio",rules:e.nameRules,required:""},on:{input:function(t){return e.setValue("boyfriend_name",t)}}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{value:e.quote.place_or_residence,label:"Lugar de residencia",required:""},on:{input:function(t){e.quoteClone.place_or_residence=t}}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-menu",{ref:"wedding_date",attrs:{"close-on-content-click":!1,"return-value":e.quote.wedding_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.quote,"wedding_date",t)},"update:return-value":function(t){return e.$set(e.quote,"wedding_date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{value:e.quote.wedding_date,label:"Fecha de la boda*",required:"",rules:e.requiredRule,"prepend-icon":"mdi-calendar"},on:{input:function(t){return e.setValue("wedding_date",t)}}},"v-text-field",n,!1),r))]}}]),model:{value:e.wedding_date,callback:function(t){e.wedding_date=t},expression:"wedding_date"}},[a("v-date-picker",{attrs:{value:e.quote.wedding_date,locale:"es-mx",required:"",rules:e.requiredRule},on:{change:function(t){return e.$refs.wedding_date.save(e.quote.wedding_date)},input:function(t){return e.setValue("wedding_date",t)}}})],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{value:e.quote.type_of_ceremony,label:"Tipo de ceremonia",required:""},on:{input:function(t){e.quoteClone.type_of_ceremony=t}}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{value:e.quote.number_of_guests,type:"number",label:"Número de invitados"},on:{input:function(t){e.quoteClone.number_of_guests=t}}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{value:e.quote.wedding_budget,type:"number",step:"0.01",label:"Presupuesto del paquete de la boda",required:""},on:{input:function(t){e.quoteClone.wedding_budget=t}}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{value:e.quote.number_of_nights,type:"number",label:"Número de noches",required:""},on:{input:function(t){e.quoteClone.number_of_nights=t}}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{value:e.quote.wedding_budget_by_person,type:"number",step:"0.01",label:"Tarifa P/P",required:""},on:{input:function(t){e.quoteClone.wedding_budget_by_person=t}}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-dialog",{ref:"dialog",attrs:{"return-value":e.quote.schedule,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.quote,"schedule",t)},"update:return-value":function(t){return e.$set(e.quote,"schedule",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{value:e.quote.schedule,label:"Horario disponible","prepend-icon":"mdi-clock-time-four-outline",readonly:""},on:{input:function(t){return e.setValue("schedule",t)}}},"v-text-field",n,!1),r))]}}]),model:{value:e.modalSchedule,callback:function(t){e.modalSchedule=t},expression:"modalSchedule"}},[e.modalSchedule?a("v-time-picker",{attrs:{value:e.quote.schedule,"full-width":""},on:{input:function(t){return e.setValue("schedule",t)}}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modalSchedule=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.quote.schedule)}}},[e._v(" OK ")])],1):e._e()],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{value:e.quote.destination,label:"Destino",required:""},on:{input:function(t){e.quoteClone.destination=t}}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{value:e.quote.honeymoon,label:"Luna de miel",required:""},on:{input:function(t){e.quoteClone.honeymoon=t}}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-textarea",{attrs:{value:e.quote.comments,filled:"","auto-grow":"",label:"Comentarios/Inspiraciones",rows:"3","row-height":"30",shaped:""},on:{input:function(t){e.quoteClone.comments=t}}})],1)],1)],1)],1),a("small",{staticClass:"red--text"},[e._v("*Campos obligatorios")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:e.closeDialog}},[e._v(" Cerrar ")]),!0===e.isNewQuote?a("v-btn",{attrs:{dark:"",color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Guardar ")]):a("v-btn",{attrs:{text:""},on:{click:e.update}},[e._v(" Actualizar ")])],1)],1)],1)],1)},n=[],o=a("1da1"),i=(a("96cf"),a("f6b0")),u={name:"DialogQuote",props:{quote:{type:Object,default:null},isNewQuote:{type:Boolean},dialog:{type:Boolean,default:!1}},data:function(){return{modalSchedule:!1,quoteClone:this.quote,customers:{},valid2:!1,nameRules:[function(e){return!!e||"Nombre es requerido"}],requiredRule:[function(e){return!!e||"Este campo es requerido"}],wedding_date:!1}},computed:{},created:function(){this.getCustomers()},methods:{getVal:function(e){this.$emit("quote.girlfriend_name",e),console.log(e)},setValue:function(e,t){this.quoteClone[e]=t,this.$emit("update:quote",this.quoteClone)},update:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.form2.validate()&&(e.$emit("update:quote",e.quoteClone),e.$emit("update",e.quote));case 1:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.form2.validate()&&(e.$emit("update:quote",e.quoteClone),e.$emit("save",e.quote));case 1:case"end":return t.stop()}}),t)})))()},getCustomers:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["b"])();case 2:e.customers=t.sent,e.ready=!0;case 4:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.$emit("close",!1)}}},s=u,c=a("2877"),l=Object(c["a"])(s,r,n,!1,null,null,null);t["a"]=l.exports},"836d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-main",{staticClass:"ma-10"},[a("v-card",[a("v-card-title",[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({attrs:{disabled:!e.ready,color:"primary mr-3",dark:""},on:{click:e.newQuote}},"v-btn",n,!1),r),[a("v-icon",{staticClass:"mr-2",attrs:{right:"",dark:""}},[e._v(" mdi-plus ")]),e._v(" Nuevo ")],1)]}}])},[a("span",[e._v("Crear nueva cotización")])]),e._v(" Cotizaciones "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.list,search:e.search,"items-per-page":5,loading:e.listLoading,"footer-props":{itemsPerPageText:"Filas por página",itemsPerPageAll:"Todos",itemsPerPageOptions:[10,20]},"loading-text":"Cargando....... Espere un momento"},scopedSlots:e._u([{key:"item.status",fn:function(t){var r=t.item;return[a("v-chip",{attrs:{color:e.getColor(r.status),dark:""}},[e._v(" "+e._s(r.status)+" ")])]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("div",{staticClass:"d-inline-flex",attrs:{align:"stretch",justify:"space-around"}},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:function(t){return e.showModalStatus(r.id)}}},"v-btn",o,!1),n),[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-dots-horizontal-circle-outline ")])],1)]}}],null,!0)},[a("span",[e._v("Cambiar estatus")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"blue"},on:{click:function(t){return e.getLog(r)}}},"v-btn",o,!1),n),[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-timeline-text-outline ")])],1)]}}],null,!0)},[a("span",[e._v("Bitacora")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[e.checkSpecificPermission("edit-user")?a("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"green"},on:{click:function(t){return e.editQuote(r)}}},"v-btn",o,!1),n),[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-pencil ")])],1):e._e()]}}],null,!0)},[a("span",[e._v("Editar cotización")])]),a("el-popconfirm",{attrs:{title:"¿Eliminar cotización?","confirm-button-text":"Eliminar","cancel-button-text":"Cancelar","confirm-button-type":"danger force-white-color"},on:{confirm:function(t){return e.deleteQuote(r)}}},[e.checkSpecificPermission("delete-user")?a("v-btn",{staticClass:"mx-2",attrs:{slot:"reference",fab:"",dark:"","x-small":"",color:"red"},slot:"reference"},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-delete-variant ")])],1):e._e()],1)],1)]}}],null,!0)})],1),a("v-row",{attrs:{justify:"center"}},[a("dialogQuoteVue",{ref:"dialogEdit",attrs:{dialog:e.dialog,quote:e.quote,"is-new-quote":e.isNewQuote},on:{"update:quote":function(t){e.quote=t},close:e.closeDialog,update:e.updateQuote,save:e.saveQuote}})],1),a("v-row",{attrs:{justify:"center"}},[a("dialogQuoteStatusVue",{ref:"dialogEdit",attrs:{"dialog-change-status":e.dialogChangeStatus,quote:e.quote,"is-new-quote":e.isNewQuote},on:{"update:quote":function(t){e.quote=t},close:e.closeDialog,update:e.updateQuote,save:e.saveQuote}})],1),a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{scrollable:"","max-width":"65%"},model:{value:e.dialogLog,callback:function(t){e.dialogLog=t},expression:"dialogLog"}},[a("v-card",[a("v-card-title",[e._v("Bitacora")]),a("v-divider"),a("v-card-text",{staticStyle:{height:"80%"}},[a("v-timeline",e._l(e.logs,(function(t,r){return a("v-timeline-item",{key:r,attrs:{color:t.color,small:""},scopedSlots:e._u([{key:"opposite",fn:function(){return[a("span",{class:"headline font-weight-bold "+t.color+"--text",domProps:{textContent:e._s(t.status)}})]},proxy:!0}],null,!0)},[a("div",{staticClass:"py-4"},[a("h2",{class:"headline font-weight-light mb-4 "+t.color+"--text"},[e._v(" "+e._s(e._f("formatDateTime")(t.created_at))+" ")]),a("div",[a("label",[e._v("Comentario: ")]),e._v(" "),a("span",{staticStyle:{"font-style":"italic"}},[e._v(" "+e._s(t.comments)+" ")]),e._v(" "),a("br"),a("label",[e._v(" Usuario:")]),e._v(" "+e._s(t.user?t.user.name:null)+" ")])])])})),1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:function(t){e.dialogLog=!1}}},[e._v(" Cerrar ")])],1)],1)],1)],1)],1)},n=[],o=a("1da1"),i=(a("159b"),a("b64b"),a("96cf"),a("1fcf")),u=a("e350"),s=a("f6b0"),c=a("c24f"),l=a("b775");function d(e){if(e)return Object(l["a"])({url:"api/logs/"+e,method:"get"})}var v=a("4384"),f=a("299b"),m={name:"Quote",components:{dialogQuoteVue:v["a"],dialogQuoteStatusVue:f["a"]},data:function(){return{isUpdate:!1,dialog:!1,dialogLog:!1,valid:!1,quote:{bitacora:{user_id:null}},logs:{},users:{},dialogChangeStatus:!1,headers:[{value:"id",align:"center",text:"Folio"},{value:"girlfriend_name",text:"Nombre (novia)",sortable:!0},{value:"boyfriend_name",align:"center",text:"Nombre (novio)",sortable:!0},{value:"place_or_residence",text:"Lugar residencia",sortable:!0},{value:"wedding_date",text:"Fecha boda",sortable:!0},{value:"status",text:"Estatus",sortable:!0},{value:"type_of_ceremony",text:"Tipo ceremonia",sortable:!0},{value:"number_of_nights",text:"No. noches",sortable:!0},{value:"number_of_guests",text:"No. invitados",sortable:!0},{value:"wedding_budget",text:"Presupuesto de boda",sortable:!0},{value:"wedding_budget_by_person",text:"Presupuesto P/P",sortable:!0},{value:"schedule",text:"Horario",sortable:!0},{value:"destination",text:"Destino",sortable:!0},{value:"honeymoon",text:"Luna de miel",sortable:!0},{value:"comments",text:"Comentarios",sortable:!0},{value:"created_at",with:"100%",sortable:!0,align:"right",text:"Registrado"},{value:"actions",text:"Acciones",sortable:!1}],nameRules:[function(e){return!!e||"Nombre es requerido"}],modalSchedule:!1,requiredRule:[function(e){return!!e||"Este campo es requerido"}],lastNameRules:[function(e){return!!e||"Apellido es requerido"}],passwordRules:[function(e){return!!e||"Contraseña es requerido"},function(e){return e&&e.length>=5||"Contraseña tiene que tener al menos 5 carácteres"}],rolRules:[function(e){return!!e||"Rol es requerido"}],search:"",listLoading:!0,list:[],dialogLoading:!1,isNewQuote:!1,customers:{},ready:!1}},computed:{},created:function(){this.getQuotes(),this.getUsers(),this.getCustomers()},methods:{saveQuote:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i["c"])(e.quote);case 3:e.getQuotes(),e.dialog=!1,t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("try catch"),console.log(t.t0),e.dialog=!1;case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getCustomers:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["b"])();case 2:e.customers=t.sent,e.ready=!0;case 4:case"end":return t.stop()}}),t)})))()},getQuotes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["b"])();case 2:a=t.sent,e.listLoading=!0,e.list=a,e.total=a.length,e.listLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},getUsers:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["c"])();case 2:e.users=t.sent;case 3:case"end":return t.stop()}}),t)})))()},checkSpecificPermission:u["b"],editQuote:function(e){this.dialog=!0,this.$emit("dialog",!0),this.isNewQuote=!1,this.quote.bitacora={};var t=this;Object.keys(e).forEach((function(a){t.quote[a]=e[a]}))},showModalStatus:function(e){this.quote={bitacora:{user_id:null}},this.quote.id=e,this.dialogChangeStatus=!0},newQuote:function(){var e=this;this.quote={bitacora:{user_id:null}},this.isNewQuote=!0,this.dialog=!0,this.$nextTick((function(){e.$refs.dialogEdit.$refs.form2.resetValidation()}))},getColor:function(e){switch(e){case"Contacto":return"primary";case"Cotización":return"blue";case"Reservado":return"green";case"Cancelado":return"red";default:return"grey"}},updateQuote:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(t.$refs.dialogEdit.$refs.form2&&t.$refs.dialogEdit.$refs.form2.validate()||t.$refs.dialogEdit.$refs.form&&t.$refs.dialogEdit.$refs.form.validate())){a.next=18;break}return t.quote=e,t.dialog2=!1,t.dialogLoading=!0,a.prev=4,a.next=7,Object(i["d"])(t.quote);case 7:t.getQuotes(),t.dialogLoading=!1,t.dialog=!1,t.dialogChangeStatus=!1,a.next=18;break;case 13:a.prev=13,a.t0=a["catch"](4),console.log("try catch"),console.log(a.t0),t.dialogLoading=!1;case 18:case"end":return a.stop()}}),a,null,[[4,13]])})))()},updateStatusQuote:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.$refs.dialogEstatus.$refs.form.validate()){a.next=18;break}return t.quote=e,t.dialog2=!1,t.dialogLoading=!0,a.prev=4,a.next=7,Object(i["d"])(t.quote);case 7:t.getQuotes(),t.dialogLoading=!1,t.dialog=!1,t.dialogChangeStatus=!1,a.next=18;break;case 13:a.prev=13,a.t0=a["catch"](4),console.log("try catch"),console.log(a.t0),t.dialogLoading=!1;case 18:case"end":return a.stop()}}),a,null,[[4,13]])})))()},deleteQuote:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogLoading=!0,a.prev=1,a.next=4,Object(i["a"])(e.id);case 4:t.getQuotes(),t.dialogLoading=!1,a.next=13;break;case 8:a.prev=8,a.t0=a["catch"](1),console.log("try catch"),console.log(a.t0),t.dialogLoading=!1;case 13:case"end":return a.stop()}}),a,null,[[1,8]])})))()},getLog:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogLoading=!0,a.prev=1,a.next=4,d(e.id);case 4:t.logs=a.sent,t.dialogLog=!0,t.dialogLoading=!1,a.next=14;break;case 9:a.prev=9,a.t0=a["catch"](1),console.log("try catch"),console.log(a.t0),t.dialogLoading=!1;case 14:case"end":return a.stop()}}),a,null,[[1,9]])})))()},closeDialog:function(){this.dialog=!1,this.dialogChangeStatus=!1}}},g=m,p=(a("0d51"),a("2877")),b=Object(p["a"])(g,r,n,!1,null,null,null);t["default"]=b.exports},dd28:function(e,t,a){},e350:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o}));a("caad"),a("2532"),a("4de4");var r=a("4360");function n(e){if(e&&e instanceof Array&&e.length>0){var t=r["a"].getters&&r["a"].getters.roles,a=e,n=t.some((function(e){return a.includes(e)}));return n}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}function o(e){if(e){var t=r["a"].getters&&r["a"].getters.userRoutes;if(t||(t=JSON.parse(localStorage.getItem("routes"))),!t)return!1;var a=e,n=t.filter((function(e){return e.meta&&e.meta.permissions})),o=n.some((function(e){return e.meta.permissions.includes(a)}));return o}return console.error("need roles! Like v-permission=\"['admin','editor'] custom....\""),!1}},f6b0:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return u}));var r=a("b775");function n(){return Object(r["a"])({url:"api/customers/getAll",method:"get"})}function o(e){return Object(r["a"])({url:"api/customers/"+e.id,method:"put",data:e})}function i(e){return Object(r["a"])({url:"api/customers/"+e,method:"delete"})}function u(e){return Object(r["a"])({url:"api/customers",method:"post",data:e})}}}]);